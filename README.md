# MC Server TUI:
## A Simple TUI for Minecraft(Java) servers on linux.
- Not reccomended for tech noobies!
- Requires knowlage about the architecture of [MCservers](https://minecraft.fandom.com/wiki/Tutorials/Setting_up_a_server).
- The Goal of this TUI is Simplicity and robustness. It works on any linux distro if the depencencies are met. 
- You dont need MCserverTUI to run your MC server. 
  - MCserverTUI is only needed for Setting up and manageing your MC server.
### Dependencies
- [whiptail (newt package)](https://man.archlinux.org/man/whiptail.1.en) - For the menu system
- Crontab support, Tested with cronie and crond - For automation and server startup
- tmux - for MC server console
- python - for [Modrinth Colection Downloader](https://github.com/aayushdutt/modrinth-collection-downloader)
- curl and wget - to download minecraft server jar files 
- opejnjdk8, 17 and 21 - for Minecraft (My script doesnt use it)

- Does not require SystemD, Glibc or any specific CPU architecture

### File-Structure:
- ~/mcservers/<server_name> = MC server locations
  - run.sh | Run shortcut with the Ram ammout with the nogui option
  - autostart.sh | Autostart script with tmux commands
  - server-version.conf | MC version, Loader and Modrith colection ID

## How to use:
### Setup Dependencies:
- Either install all the depencencies or run setup.sh
```
./setup.sh
```
### Download and run the Git version:
```
git clone https://github.com/squidnose/MCserverTUI.git
cd MCserverTUI
./MCserverTUI.sh
```
- MCserverTUI doest require a specific directory, but do not place it in ~/mcservers!
### Run on SSH login
- You can add MCserverTUI in your .bashrc.
- This makes it esier to acces, at the cost of safety. 
- DO THIS AT YOUR OWN RISK!
```
cd MCserverTUI
./MC-Server-TUI.sh
```
(If you have placed MCserverTUI in ~ )
# Scripts and their functions
### setup.sh
- Will setup Dependecnies and services for some linux distros.
- If your distro doesnt have a preset, you will have to manually instal depencencies.

### MCserverTUI.sh
- uses My [[Linux-Script-Runner]](https://codeberg.org/squidnose-code/Linux-Script-Runner)
- runs all script located in the scripts dirctory.

## scripts directory
### 1.New-Server.sh
- Asks for: 
  - Server name
  - Choose MC version number
  - Choose MC loader type
  - modrinth colection ID(Not manditory)
- saves info into config file located in the servers directory
- Asks if you want to download mods from modrinth via colection ID
  - runs modrith-downloader.sh
  - Only runs when you selected theese supported loaders:
    - Fabric, Forge, Neoforge, Quilt
- Asks how to install a server jar
  - manually via URL
    - only URL!!!
    - Do not add curl or wget to the begining!!!
  - Using MCjarfiles API. 
    - Can be used for: Vanilla*, Fabric, Forge, Neoforge, Paper, Purpur.
    *Only release vanilla, MCjarfiles can downlod snapshots, alphas and betas, but i have not implemented it. 
- Choose max and min memory for server
  - you need to use either 1G or 1024M format (Example for 1 GB)
  - You dont need to enter any value, it works without it aswell.(If you dont, it turns un-stable)
- Ask if you Agree with the eula
- Automatic start on Reboot
  - Creates run.sh and autostart.sh 
  - Adds crontab entry
- Run Server in Tmux window


### 2.Manage-Servers.sh
Whiptail menu:
- Existing servers(List in ~/mcserver/)
- When selected server:
  - Open server console
  - Start server 
  - Stop server
  - Edit server.properties file
  - Update Server (Modrinth Mods and server jar file)
  - Edit server files using a modified LSR 
    - Opens Folders
    - Edits files
    - Modify .jar files:
      - replace .jar file from URL
      - rename .jar files
      - remove .jar files
  - Add or Configure Autostart Features 
  - Add or Configure memory config
  - Change server Name 

### 3.Crontab-Management.sh
- asks for you to select a text editor
- opens user crontab using crontab -e

### 4.Tunneling-Services.sh
- LocalToNet - Fast but paid (Supports x64, ARM and ARM64 all in Either Glibc or Musl)
- (Not done)playit.gg - Free but slow, offers premium options (Supports x64, i686, ARMv7 and ARM64 Glibc only, avalible as MC plugin)
- (Not done)telebit.io - Free, decetly fast but only Java servers (Unknown Architectural limitations)

### 5.SystemBackup-and-Update.sh
- Todo
- curently opens htop:)

## More scripts
- modrinth-autodownloader.py 
  - Modrinth colection downloader in python. 
  - This is not my code, i used: https://github.com/aayushdutt/modrinth-collection-downloader
- modrith-downloader.sh
  - modrith-downloader.sh is a TUI front for modrinth-autodownloader.py 
  - can recive --name or -n paramter
- server_properties_editor.sh
  - Edits server.properties of a MCserver
  - Does not make a new server.properties. This must be generated by the server jar. 
  - can recive --name or -n paramter

### Colors
- set-colors.sh
  - sets a color theme from presets
  - Uses newt colors as standard for whiptail
  - saves choice in colors.conf

## Todo
- Manage Backups for all servvers located in ~/mcservers
  - One time manula backup
  - Setup Auto backup with crontab 
- Manage All Reverse proxys (Playig.gg, ngrok)
  - Make crontabs for them with Tmux 
- Auto Update-System
